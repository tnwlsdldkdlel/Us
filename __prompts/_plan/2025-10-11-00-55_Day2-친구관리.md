# Day 2 친구 관리 구현

## Todo
- [x] Friend/Friendship 도메인 모델 확장 및 Supabase 연동 리포지토리 구현
- [x] 친구 화면 UI/상호작용 업데이트 (요청/수락/거절/취소/삭제)
- [x] 친구 선택 모듈 및 약속 편집 화면 Supabase 데이터 기반으로 갱신
- [x] 단위 테스트 및 정적 분석 확인

## Plan
1. `Friend` 모델과 `FriendRepository` 인터페이스를 비동기 구조로 재설계하고 Supabase 구현체를 추가한다.
2. ViewModel과 Friends 화면 UI를 Supabase 데이터/액션과 연결하고, 이메일 기반 친구 요청 플로우를 추가한다.
3. People picker와 약속 편집 화면에서 새로운 Friend 구조를 사용하도록 조정한다.
4. 관련 테스트(`friends_view_model_test.dart`)와 문서를 갱신하고, `flutter analyze`/테스트로 검증한다.

## Working
- Supabase RLS 정책에 맞춘 `SupabaseFriendRepository` 작성, `Friend` 모델 확장(Nickname/Email/Status)
- `FriendsViewModel` 비동기화 및 요청 처리 메서드 추가, `FriendsScreen` UI 전면 갱신
- People picker/약속 편집 화면을 Supabase 데이터와 연동하고 로딩/예외 처리 추가
- `MockFriendRepository` 비동기 대응 및 테스트 수정, e2e 분석 실행

## Result
- Day 2 범위의 친구 관리 기능(목록 조회, 요청/수락/거절/취소, 친구 삭제, 이메일 요청) Supabase 기반으로 구현 완료
- 가입자 미존재 시 Supabase Functions를 호출해 초대 이메일을 발송하는 로직 추가
- 약속 편집 화면과 선택 모달도 실데이터 기반으로 동작하며, 테스트(`flutter test test/screens/friends/friends_view_model_test.dart`) 통과 확인
